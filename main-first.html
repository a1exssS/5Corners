<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>[*meta_title*] | Пятый Угол</title>
	<meta name="description" content="[[SCHARS? &p=`[*meta_desc*]`]][[META_DESC_HEAD]]">
	<meta name="keywords" content="[[SCHARS? &p=`[*meta_keys*]`]]">
	<link rel="icon" href="/favicon.svg">
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<link rel="stylesheet" href="./css/bootstrap.css">
	<link rel="stylesheet" href="./css/font-awesome.css">
	<link rel="stylesheet" href="./css/fancybox.css">
	<link rel="stylesheet" href="slick.css">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="main.css">
	<script src="js/jquery-3.4.1.min.js"></script>
	<script src="js/bootstrap.js"></script>
	<script src="js/slick.min.js"></script>
	<script src="js/jquery.fancybox.min.js"></script>
	<script src="js/jquery.maskedinput.min.js"></script>
	<script src="js/common.js?ver=v[!TS!]"></script>
	<script src="js/embedvkgallery.js?werewrw"></script>

	<!--Plugin CSS file with desired skin-->
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/css/ion.rangeSlider.min.css" />

	<!--jQuery-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<!--Plugin JavaScript file-->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/ion-rangeslider/2.3.1/js/ion.rangeSlider.min.js"></script>
	<script>
		(function ($) {
			$(function () {
				$('.vk').EmbedVkGallery();
			});
		})(jQuery);
	</script>
	<script type="text/javascript">
		var reformalOptions = {
			project_id: 981624,
			show_tab: false,
			project_host: "5ugol.reformal.ru"
		};

		(function () {
			var script = document.createElement('script');
			script.type = 'text/javascript';
			script.async = true;
			script.src = ('https:' == document.location.protocol ? 'https://' : 'http://') +
				'media.reformal.ru/widgets/v3/reformal.js';
			document.getElementsByTagName('head')[0].appendChild(script);
		})();
	</script>
</head>

<body>
	<div class="slider">
		<div class="slider__slides">
			<div class="slide slide_active">
				<div class="slide__text container">
					<h1 class="slide__title">Строим<br class="slide__title-br">
						<span class="slide__title-print">каркасные дома</span><br>
						с полной отделкой<br>
						и&nbsp;коммуникациями
					</h1>
				</div>

				<div class="slide__links container">
					<button class="slide-button" data-src="#popup" data-fancybox>Заказать расчёт</button>
					<button class="slide-button" data-src="#frmcons" data-fancybox>Получить консультацию</button>
				</div>
				<div class="slide__image">
					<div class="container image-container">
						<img src="./img/house.png" alt="">
						<div class="slide__nav">
							<button class="slider__button slider__button--prev"></button>
							<button class="slider__button slider__button--next"></button>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="slider__bottom container">
			<div class="slider__nav">
				<button class="slider__button slider__button--prev"></button>
				<button class="slider__button slider__button--next"></button>
			</div>
			<div class="advantages__card">
				<div class="advantage">
					<img class="advantage__img" src="./img/tablet.svg" alt="">
					<p class="advantage__text">
						<span>Контроль строительства</span><br>
						на каждом этапе
					</p>
				</div>

				<div class="advantage">
					<img class="advantage__img" src="./img/photo.svg" alt="">
					<p class="advantage__text">
						<span>Фото и видеосъемка</span><br>
						скрытых работ
					</p>
				</div>
				<div class="advantage">
					<img class="advantage__img" src="./img/achive.svg" alt="">
					<p class="advantage__text">
						<span>Всегда на связи</span><br>
						с клиентами
					</p>
				</div>
			</div>
		</div>
	</div>
	<script>
		(function printTitle() {
			let element = document.querySelector('.slide__title-print');
			if (!element) return;
			const STRINGS = ['Каркасные дома', 'Дома из газобетона', 'Кирпичные дома'];
			const SECONDS_BETWEEN_STRINGS = 2;
			const SECONDS_BETWEEN_CHARS = 0.1;
			let currentStringIdx = 0;

			(function printString() {
				return new Promise(resolve => {
					let currentSubstringLength = 0;
					const interval = setInterval(() => {
						element.textContent = STRINGS[currentStringIdx].slice(0, currentSubstringLength);
						if (currentSubstringLength++ > STRINGS[currentStringIdx].length - 1) {
							clearInterval(interval);
							resolve();
						}
					}, SECONDS_BETWEEN_CHARS * 1000);
				}).then(() => {
					if (++currentStringIdx > STRINGS.length - 1) currentStringIdx = 0;
					setTimeout(printString, SECONDS_BETWEEN_STRINGS * 1000);
				})
			}());
		})();

		(function mainSliderInit() {
			const $slider = $('.slider');
			if (!$slider) return;
			const SECONDS_BETWEEN_SLIDES = 8;
			$slider.css('animation-duration', SECONDS_BETWEEN_SLIDES + 's').addClass('_animate-timeout');
			$slider.find('.slider__slides')
				.slick({
					arrows: false,
					autoplay: true,
					autoplaySpeed: SECONDS_BETWEEN_SLIDES * 1000,
					pauseOnHover: false,
					pauseOnFocus: false
				})
				.on('beforeChange', () => $slider.removeClass('_animate-timeout'))
				.on('afterChange', () => $slider.addClass('_animate-timeout'));
			$slider.find('.slider__button--next').on('click', () => $slider.find('.slider__slides').slick('slickNext'));
			$slider.find('.slider__button--prev').on('click', () => $slider.find('.slider__slides').slick('slickPrev'));

		})();
	</script>
</body>